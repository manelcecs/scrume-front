<div id="main-project">
  <section id="header-project">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a (click)="navigateTo('teams')">{{ project.team.name }}</a>
        </li>
        <li style="display: flex; align-items: center;" class="breadcrumb-item active" aria-current="page">
          {{ project.name }}
          <img *ngIf="compruebaAdminTeam" src="../assets/edit.webp" width="auto" height="15" class="d-inline-block align-top" alt=""
            matTooltip="Editar proyecto" (click)="editProject(project)" />
          <img *ngIf="compruebaAdminTeam" src="../assets/bin.webp" width="auto" height="15" class="d-inline-block align-top" alt=""
            matTooltip="Borrar proyecto" (click)="deleteProject(project.id)" />
            <app-badge-minimum-box [idTeam]="this.project.team.id"></app-badge-minimum-box>
        </li>
      </ol>
    </nav>
  </section>

  <hr />

  <section id="description-proyect">
    <p style="margin-bottom: 30px;">{{ project.description }}</p>
    <div>
      <button class="button-sprints" mat-flat-button (click)="openBacklog()">
        Product Backlog
      </button>
    </div>
  </section>

  <section id="more-info-proyect">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a style="display: flex; align-items: center;" class="nav-link active" id="home-tab" data-toggle="tab"
          href="#home" role="tab" aria-controls="home" aria-selected="true">
          Sprints
          <img *ngIf="validationCreate && compruebaAdminTeam" style="margin-left: 10px;" src="../assets/more.webp" width="auto" height="15" class="d-inline-block align-top" alt="" (click)="openDialog()">
        </a>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active sprints-project" id="home" role="tabpanel" aria-labelledby="home-tab">
        <div class="content-sprints-project">
          <div *ngFor="let sprint of sprints; index as i" class="info-sprint-project">
            <div class="title-progress-project">
              <div class="name-sprint-project">
                <a (click)="navigateToSprint(sprint)" matTooltip="Ver sprint">Sprint {{ i + 1 }}</a>
              </div>
              <div class="progress progress-project">
                <div class="progress-bar bg-success" role="progressbar" style="width: {{
                    (sprint.completedHP / sprint.totalHP) * 100
                  }}%" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="statistics-sprint-project">
              <table class="table-statistics-project">
                <tr>
                  <td class="cell-statistics-project">
                    {{ sprint.totalTasks }} tareas
                  </td>
                  <td class="cell-statistics-project">
                    {{ sprint.completedTasks }} tareas hechas
                  </td>
                </tr>
                <tr>
                  <td class="cell-statistics-project">
                    {{ sprint.totalHP
                    }}<a matTooltip="Puntos de Historia"> ph </a>totales
                  </td>
                  <td class="cell-statistics-project">
                    {{ sprint.completedHP
                    }}<a matTooltip="Puntos de Historia"> ph </a>realizados
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
